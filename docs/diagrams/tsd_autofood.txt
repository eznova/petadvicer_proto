@startuml
actor "Pet Owner" as a1
participant UI as p1
participant Server as p2
participant "Yandex API" as p7
participant "DB" as p9

autonumber
a1 -> p1 : Запусти умную кормушку
p1 -> p2 : верни_статус_авторизации_пользователя
alt пользователь неавторизован
p2 -> p1 : пользователь_неавторизован
p1 -> a1 : введи_лог_пароль
a1 -> p1 : логин+пароль
p1 -> p2 : верни_данные_о_питомце(логин)
else пользователь авторизован
p1 -> p2 : верни_данные_о_питомце(логин)
end
p2 -> p9 : запрос_данных_о_питомце
p2 <- p9 : данные о питомце
p2 -> p7 : Запрос на управление кормушкой
alt у пользователя есть умный дом
p2 <- p7 : подтверждение запроса
else у пользователя нет умного дома
p2 <- p7 : ошибка выполнения. Предложение зарегистрироваться 
end
p1 <- p2 : Код страницы сайта с данными результатах выполнения запроса
p1 -> a1 : Результат выполнения запроса

@enduml
